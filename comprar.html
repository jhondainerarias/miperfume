<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Descubre fragancias exclusivas y personales. Donde cada gota cuenta una historia. Encuentra tu esencia perfecta.">
    <title>Mis Fragancias - Realiza tu Compra</title>
    <link rel="stylesheet" href="styles1.css" type="text/css">
    <link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Montserrat:wght@400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css">

    <style>
        /* Variables CSS para una gestión de colores más sencilla */
        :root {
            --primary-color: #000200; /* negro oscuro para texto principal y elementos clave */
            --secondary-color: #832ef3; /* Morado para detalles y énfasis */
            --accent-color: #e6f51d; /* Amarillo/oro para acentos y resaltados */
            --light-bg: #f8f9fa; /* Fondo claro general */
            --card-bg: #ffffff; /* Fondo de las tarjetas */
            --border-color: #e0e0e0; /* Color de borde suave */
            --shadow-light: rgba(0, 0, 0, 0.08);
            --shadow-medium: rgba(0, 0, 0, 0.15);
            --text-light: #3f3e3e;
            --button-hover-bg: #e6e6fa; /* Lavanda muy claro para hover de botones */
            --button-selected-bg: #d8d2db; /* Morado oscuro para botón seleccionado */
            --nequi-red: #cc0000; /* Rojo Nequi */
            --nequi-text-color: #333333; /* Color de texto para info Nequi */
        }

     body {
    background-image: url('imagen/comp2.jpg'); /* Asegúrate de que esta ruta sea correcta */
    background-repeat: no-repeat;
    background-attachment: fixed;
    background-size: cover;
    background-color: #f8f4d3; /* Color sólido de respaldo */
    /* Fuentes base para el body si quieres una fuente general para toda la página */
    /* font-family: sans-serif; */
}
     

        /* --- Menú Flotante --- */
        .menu-flotante {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
            background: linear-gradient(135deg, rgba(255, 230, 3, 0.1), rgba(255, 255, 255, 0.05));
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border-radius: 15px;
            border: 1px solid rgba(238, 255, 2, 0.918)
            box-shadow: 0 8px 32px 0 var(--shadow-medium);
            display: flex;
            flex-direction: row;
            align-items: center;
            padding: 15px 20px;
            transition: all 0.3s ease-in-out;
            max-width: calc(100% - 40px); /* Asegura que no se desborde en móviles */
        }

        .menu-flotante:hover {
            box-shadow: 0 12px 40px 0 rgba(228, 150, 150, 0.45);
            border: 1px solid rgba(255, 255, 255, 0.3);
        }

        .menu-flotante ul {
            list-style: none;
            margin: 0;
            padding: 0;
            display: flex;
            gap: 15px;
            align-items: center;
            width: 100%;
            justify-content: flex-end;
            flex-wrap: wrap; /* Permite que los elementos se envuelvan en pantallas pequeñas */
        }

        .menu-flotante ul li a {
            background: rgba(252, 235, 0, 0.15);
            color: var(--primary-color);
            text-decoration: none;
            padding: 10px 18px;
            border-radius: 8px;
            font-size: 1em;
            font-weight: 600;
            text-align: center;
            border: none;
            cursor: pointer;
            box-shadow: 3px 3px 6px var(--shadow-light),
                        -3px -3px 6px rgba(255, 255, 255, 0.1);
            transition: all 0.2s ease-in-out;
            white-space: nowrap;
            display: block; /* Para que el padding y margin funcionen bien */
        }

        .menu-flotante ul li a:hover {
            background: rgba(252, 235, 3, 0.25);
            transform: translateY(-2px);
            box-shadow: 5px 5px 10px var(--shadow-medium),
                        -5px -5px 10px rgba(253, 228, 3, 0.15)
        }

        .menu-flotante ul li a:active {
            transform: translateY(0);
            box-shadow: inset 2px 2px 5px rgba(241, 245, 6, 0.2),
                        inset -2px -2px 5px rgba(224, 169, 15, 0.1);
            background: rgba(238, 234, 7, 0.1)
        }

        /* --- Contenido Principal --- */
        .main-content-wrapper {
            width: 90%;
            max-width: 900px;
            margin-top: 120px; /* Espacio para el menú flotante */
            padding: 20px;
            box-sizing: border-box;
            opacity: 0; /* Inicialmente oculto para la animación */
            transform: translateY(20px); /* Para el efecto de entrada */
            animation: fadeInSlideUp 0.8s ease-out forwards;
        }

        @keyframes fadeInSlideUp {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .page-header {
            text-align: center;
            margin-bottom: 40px;
            color: var(--primary-color);
        }

        .page-title {
            font-family: 'Playfair Display', serif;
            font-size: 3.2em;
            margin-bottom: 10px;
            color: var(--secondary-color);
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
        }

        .page-subtitle {
            font-size: 1.2em;
            color: var(--text-light);
            max-width: 600px;
            margin: 0 auto;
        }

        .order-section {
            display: grid;
            grid-template-columns: 1fr;
            gap: 30px;
        }

        .section-card {
            background-color: var(--card-bg);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 10px 30px var(--shadow-light);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            border: 1px solid var(--border-color);
        }

        .section-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px var(--shadow-medium);
        }

        .section-card h2 {
            font-family: 'Playfair Display', serif;
            font-size: 2em;
            color: var(--secondary-color);
            margin-top: 0;
            margin-bottom: 15px;
            border-bottom: 2px solid var(--accent-color);
            padding-bottom: 10px;
            display: inline-block; /* Para que el borde sea solo del texto */
        }

        .section-card p {
            color: var(--text-light);
            margin-bottom: 20px;
        }

        /* --- Grupos de Input y Select --- */
        .input-group, .options-group, .search-and-select-group {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-bottom: 20px;
        }

        input[type="text"],
        input[type="tel"],
        select {
            width: 100%;
            padding: 15px;
            border: 1px solid var(--border-color);
            border-radius: 10px;
            font-size: 1em;
            color: var(--primary-color);
            background-color: var(--light-bg);
            transition: border-color 0.3s ease, box-shadow 0.3s ease;
            box-sizing: border-box; /* Incluye padding y borde en el ancho total */
        }

        input[type="text"]:focus,
        input[type="tel"]:focus,
        select:focus {
            border-color: var(--secondary-color);
            box-shadow: 0 0 0 3px rgba(243, 227, 6, 0.2); /* Sombra de enfoque sutil */
            outline: none;
        }

        /* --- Divisor "O" --- */
        .divider {
            display: flex;
            align-items: center;
            text-align: center;
            color: var(--text-light);
            margin: 30px 0;
            font-weight: 600;
        }

        .divider::before,
        .divider::after {
            content: '';
            flex: 1;
            border-bottom: 1px dashed var(--border-color);
        }

        .divider:not(:empty)::before {
            margin-right: .5em;
        }

        .divider:not(:empty)::after {
            margin-left: .5em;
        }

        /* --- Botones de Selección (Tamaño, Pago) --- */
        .size-options, .payment-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(140px, 1fr)); /* Auto-ajustable con mínimo */
            gap: 15px;
            margin-top: 20px;
        }

        .choice-button {
            background-color: var(--light-bg); /* Fondo claro para los botones */
            border: 1px solid var(--border-color);
            color: var(--primary-color);
            padding: 15px 20px;
            border-radius: 10px;
            font-size: 1.1em;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            box-shadow: 0 2px 5px rgba(241, 241, 237, 0.979);
        }

        .choice-button:hover {
            background-color: var(--button-hover-bg);
            border-color: var(--secondary-color);
            transform: translateY(-2px);
            box-shadow: 0 4px 10px var(--shadow-light);
        }

        .choice-button.selected {
            background-color: var(--secondary-color); /* Morado vibrante al seleccionar */
            color: white;
            border-color: var(--button-selected-bg);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px var(--shadow-medium);
        }

        /* --- Estilos específicos para el botón Nequi --- */
        .payment-nequi {
            justify-content: center; /* Centra el contenido del botón */
        }

        .payment-nequi img {
            width: auto; /* Permite que el ancho se ajuste según la proporción */
            max-width: 40px; /* Ancho máximo para el logo */
            height: auto; /* Mantiene la proporción de la imagen */
            max-height: 40px; /* Altura máxima para el logo */
            margin-right: 10px; /* Espacio entre el logo y el texto */
            vertical-align: middle; /* Alinea verticalmente con el texto */
        }

        .payment-nequi.selected img {
            filter: brightness(0) invert(1); /* Hace el logo blanco al seleccionar */
        }

        /* --- Estilos para el icono de Efectivo --- */
        .payment-cash i {
            font-size: 1.4em;
            margin-right: 8px;
            color: var(--primary-color); /* Color por defecto */
        }

        .payment-cash.selected i {
            color: white; /* Color blanco cuando está seleccionado */
        }

        /* --- Información de Nequi oculta --- */
        .nequi-info {
            background-color: #90d9f7; /* Fondo naranja claro */
            border: 1px solid #d5df7c;
            border-radius: 10px;
            padding: 15px 20px;
            margin-top: 20px;
            color: var(--nequi-text-color);
            font-size: 0.95em;
            line-height: 1.5;
            transition: all 0.4s ease-in-out;
            opacity: 0;
            max-height: 0;
            overflow: hidden;
        }

        .nequi-info.hidden {
            opacity: 0;
            max-height: 0;
            padding: 0 20px; /* Para que el padding no cause un "salto" */
            margin-top: 0;
        }

        .nequi-info.active {
            opacity: 1;
            max-height: 100px; /* Suficientemente grande para el contenido */
            padding: 15px 20px;
            margin-top: 20px;
        }

        .nequi-info strong {
            color: var(--nequi-red); /* Rojo Nequi para el número */
            font-weight: 700;
        }

        /* --- Resumen del Pedido --- */
        .summary-card {
            color: rgb(3, 3, 3);
            padding: 35px;
            border-radius: 25px;
            box-shadow: 0 15px 40px rgba(8, 8, 8, 0.25);
            text-align: center;
            bottom: 20px;
            margin-top: 30px;
        }

        .summary-title {
            color: rgb(8, 8, 8);
            border-bottom-color: var(--accent-color);
            margin-bottom: 20px;
        }

        .summary-card p {
            color: rgba(10, 10, 10, 0.9);
            margin-bottom: 10px;
        }

        .message-area {
            background-color: rgba(234, 238, 234, 0.904)5);
            border-radius: 10px;
            padding: 20px;
            min-height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            color:black
            font-style: italic;
            margin-bottom: 25px;
            box-shadow: inset 0 2px 5px rgba(0, 0, 0, 0.1);
        }

        /* --- Botón de WhatsApp --- */
        .whatsapp-button {
            background-color: #25d366; /* Verde WhatsApp */
            color: white;
            border: none;
            border-radius: 10px;
            padding: 15px 30px;
            font-size: 1.2em;
            font-weight: 700;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            margin: 25px auto 15px auto; /* Centrado y con margen */
            box-shadow: 0 8px 15px rgba(0, 0, 0, 0.2);
            transition: all 0.3s ease;
            width: fit-content; /* Se ajusta al contenido */
        }

        .whatsapp-button:hover {
            background-color: #1da851; /* Verde más oscuro al pasar el ratón */
            transform: translateY(-3px);
            box-shadow: 0 12px 20px rgba(0, 0, 0, 0.3);
        }

        .whatsapp-button:active {
            transform: translateY(0);
            box-shadow: 0 5px 10px rgba(0, 0, 0, 0.2);
        }

        .whatsapp-icon {
            width: 28px;
            height: 28px;
            filter: brightness(0) invert(1); /* Icono blanco */
        }

        .final-note {
            font-size: 0.9em;
            color: rgba(255, 255, 255, 0.8);
            font-style: italic;
            margin-top: 15px;
        }

        /* --- Búsqueda de Perfumes --- */
        .search-results-perfume {
            background-color: var(--card-bg);
            border: 1px solid var(--border-color);
            border-radius: 10px;
            max-height: 200px;
            overflow-y: auto;
            margin-top: 5px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
            list-style: none;
            padding: 0;
        }

        .search-results-perfume div { /* Cambiado de 'li' a 'div' ya que no es una lista real */
            padding: 10px 15px;
            cursor: pointer;
            transition: background-color 0.2s ease;
            color: var(--primary-color);
        }

        .search-results-perfume div:hover {
            background-color: var(--button-hover-bg);
        }

        .search-results-perfume div.selected-result {
            background-color: var(--secondary-color);
            color: white;
            font-weight: 600;
        }

        .hidden {
            display: none;
        }

        /* --- Media Queries para Responsividad --- */
        @media (max-width: 768px) {
            .menu-flotante {
                top: 15px;
                right: 15px;
                padding: 10px 15px;
                border-radius: 10px;
            }
            .menu-flotante ul {
                gap: 10px;
            }
            .menu-flotante ul li a {
                padding: 8px 12px;
                font-size: 0.9em;
            }

            .main-content-wrapper {
                margin-top: 100px;
                padding: 15px;
            }

            .page-title {
                font-size: 2.5em;
            }

            .page-subtitle {
                font-size: 1.1em;
            }

            .section-card {
                padding: 25px;
            }

            .section-card h2 {
                font-size: 1.8em;
            }

            .input-group, .options-group, .search-and-select-group {
                gap: 10px;
            }

            input[type="text"], input[type="tel"], select {
                padding: 12px;
                font-size: 0.95em;
            }

            .choice-button {
                padding: 12px 18px;
                font-size: 1em;
            }

            .payment-nequi img {
                max-width: 35px;
                max-height: 35px;
            }

            .whatsapp-button {
                padding: 12px 25px;
                font-size: 1.1em;
            }

            .whatsapp-icon {
                width: 24px;
                height: 24px;
            }
        }

        @media (max-width: 480px) {
            .menu-flotante {
                top: 10px;
                right: 10px;
                padding: 8px 10px;
                border-radius: 8px;
                width: auto;
                left: auto;
                transform: none;
            }
            .menu-flotante ul {
                flex-wrap: wrap;
                justify-content: flex-end;
                gap: 8px;
            }
            .menu-flotante ul li a {
                padding: 6px 10px;
                font-size: 0.8em;
            }

            .main-content-wrapper {
                margin-top: 80px;
                padding: 10px;
            }

            .page-title {
                font-size: 2em;
            }

            .page-subtitle {
                font-size: 0.95em;
            }

            .section-card {
                padding: 20px;
            }

            .section-card h2 {
                font-size: 1.5em;
            }

            input[type="text"], input[type="tel"], select {
                padding: 10px;
                font-size: 0.9em;
            }

            .size-options, .payment-options {
                grid-template-columns: 1fr; /* Una columna en pantallas muy pequeñas */
            }

            .choice-button {
                padding: 10px 15px;
                font-size: 0.9em;
            }

            .payment-nequi img {
                max-width: 30px;
                max-height: 30px;
            }

            .nequi-info {
                font-size: 0.85em;
                padding: 10px 15px;
            }

            .whatsapp-button {
                padding: 10px 20px;
                font-size: 1em;
            }

            .whatsapp-icon {
                width: 20px;
                height: 20px;
            }
        }
    </style>
</head>
<body>
    <nav class="menu-flotante">
        <ul>
            <li><a href="index.html">Inicio</a></li>
            <li><a href="dama.html">Dama</a></li>
            <li><a href="caballero.html">Caballero</a></li>
            <li><a href="unisex.html">Unisex</a></li>
            <li><a href="comprar.html">Hacer una Compra</a></li>
        </ul>
    </nav>

    <div class="main-content-wrapper">
        <header class="page-header">
                    <h2>Perfumería Mis Fragancias Jhon Dainer Arias</h2>

            <h1 class="page-title">Realiza tu Pedido</h1>
            <p class="page-subtitle">encuentra tu fragancia ideal en pocos pasos.</p>
        </header>

        <section class="order-section">
            <div class="section-card">
                <h2>1. ¡Hola! Ingresa tus datos</h2>
                <p>Necesitamos tu nombre y número de contacto para coordinar tu pedido.</p>
                <div class="input-group">
                    <input type="text" id="nombreInput" placeholder="Tu Nombre Completo" aria-label="Introduce tu nombre">
                    <input type="tel" id="celularInput" placeholder="Número de Celular (Ej: 3101234567)" aria-label="Número de celular">
                </div>
            </div>
<div class="section-genero">
    <h2>Selecciona el género</h2>
    <h3>Elige para quien es.</h3>
    <div class="gender-options" id="genderSelectionMenu"> 
        <button class="choice-button gender-dama" data-genero="dama"> 
            <img src="imagen/icono.png" alt="Icono Dama" width="50" height="50"> Dama
        </button>
        <button class="choice-button gender-caballero" data-genero="caballero"> 
            <img src="imagen/iconohom.png" alt="Icono Caballero" width="50" height="50"> Caballero
        </button>
        <button class="choice-button gender-unisex" data-genero="unisex"> 
            <img src="imagen/icounix.jpg" alt="Icono Unisex" width="50" height="50"> Unisex
        </button>
    </div>
</div>
            <div class="section-card">
                <h2>2. Selecciona tu Perfume</h2>
                <p>Busca tu fragancia favorita o selecciona por casa perfumera.</p>
                <div class="search-and-select-group">
                    <input type="text" id="perfumeSearchInput" placeholder="Buscar perfume por nombre..." aria-label="Buscar perfume">
                    <div id="perfumeSearchResults" class="search-results-perfume hidden"></div>
                </div>


                <div class="options-group">
                    <select id="casaSelect">
                        <option value="">-- Selecciona una casa o una  marca--</option>
                        <option value="afnan">Afnan</option>
                        <option value="agataruizdelaprada">Agata Ruiz de la Prada</option>
                        <option value="ahli">Ahli</option>
                        <option value="alharamain">Al Haramain</option>
                        <option value="animale">Animale</option>
                        <option value="antoniobanderas">Antonio Banderas</option>
                        <option value="arianagrande">Ariana Grande</option>
                        <option value="armaf">Armaf</option>
                        <option value="arrurru">Arrurru</option>
                        <option value="azzaro">Azzaro</option>
                        <option value="bath&bodyworks">Bath & Body Works</option>
                        <option value="benetton">Benetton</option>
                        <option value="bharara">Bharara</option>
                        <option value="bilieeilish">Billie Eilish</option>
                        <option value="bondn°9">Bond N°9</option>
                        <option value="britneyspears">Britney Spears</option>
                        <option value="burberry">Burberry</option>
                        <option value="bvlgari">Bvlgari</option>
                        <option value="cacharel">Cacharel</option>
                        <option value="calvinklein">Calvin Klein</option>
                        <option value="carolinaherrera">Carolina Herrera</option>
                        <option value="cartier">Cartier</option>
                        <option value="chanel">Chanel</option>
                        <option value="christiandior">Christian Dior</option>
                        <option value="clinique">Clinique</option>
                        <option value="creed">Creed</option>
                        <option value="cristianoronaldo">Cristiano Ronaldo</option>
                        <option value="diesel">Diesel</option>
                        <option value="dolcegabbana">Dolce & Gabbana</option>
                        <option value="dumontparis">Dumont Paris</option>
                        <option value="elizabetharden">Elizabeth Arden</option>
                        <option value="elizabethtaylor">Elizabeth Taylor</option>
                        <option value="enriqueiglesias">Enrique Iglesias</option>
                        <option value="escada">Escada</option>
                        <option value="esika">Esika</option>
                        <option value="faconable">Faconable</option>
                        <option value="ferrari">Ferrari</option>
                        <option value="fredhayman">Fred Hayman</option>
                        <option value="giardiniditoscana">Giardini Di Toscana</option>
                        <option value="gillescantuel">Gilles Cantuel</option>
                        <option value="giorgioarmani">Giorgio Armani</option>
                        <option value="givenchy">Givenchy</option>
                        <option value="gucci">Gucci</option>
                        <option value="guess">Guess</option>
                        <option value="hugoboss">Hugo Boss</option>
                        <option value="ilmin">Ilmin</option>
                        <option value="isseymiyake">Issey Miyake</option>
                        <option value="jeanpaulgaultier">Jean Paul Gaultier</option>
                        <option value="jeanpascal">Jean Pascal</option>
                        <option value="jesusdelpozo">Jesús del Pozo</option>
                        <option value="juicycouture">Juicy Couture</option>
                        <option value="justinbieber">Justin Bieber</option>
                        <option value="katyperry">Katy Perry</option>
                        <option value="kenzo">Kenzo</option>
                        <option value="killian">Killian</option>
                        <option value="kimkardashian">Kim Kardashian</option>
                        <option value="lacoste">Lacoste</option>
                        <option value="lancome">Lancome</option>
                        <option value="lattafa">Lattafa</option>
                        <option value="lelabo">Le Labo</option>
                        <option value="lizclaiborne">Liz Claiborne</option>
                        <option value="loewe">Loewe</option>
                        <option value="lolitalempicka">Lolita Lempicka</option>
                        <option value="lorenzopazzaglia">Lorenzo Pazzaglia</option>
                        <option value="louisvuitton">Louis Vuitton</option>
                        <option value="maisonfrancisk">Maison Francis Kurkdjian</option>
                        <option value="maluma">Maluma</option>
                        <option value="mancera">Mancera</option>
                        <option value="mercedesbenz">Mercedes Benz</option>
                        <option value="montblanc">Montblanc</option>
                        <option value="montale">Montale</option>
                        <option value="moschino">Moschino</option>
                        <option value="natura">Natura</option>
                        <option value="nautica">Nautica</option>
                        <option value="onedirection">One Direction</option>
                        <option value="orientica">Orientica</option>
                        <option value="oscardelarenta">Oscar de la Renta</option>
                        <option value="pacorabanne">Paco Rabanne</option>
                        <option value="parfumsdemarly">Parfums de Marly</option>
                        <option value="parishilton">Paris Hilton</option>
                        <option value="perryellis">Perry Ellis</option>
                        <option value="pinosilvestre">Pino Silvestre</option>
                        <option value="prada">Prada</option>
                        <option value="ralphlauren">Ralph Lauren</option>
                        <option value="rasasi">Rasasi</option>
                        <option value="reyane">Reyane</option>
                        <option value="selenagomez">Selena Gomez</option>
                        <option value="shakira">Shakira</option>
                        <option value="sofiavergara">Sofia Vergara</option>
                        <option value="tedlapidus">Ted Lapidus</option>
                        <option value="thierrimugler">Thierry Mugler</option>
                        <option value="tomford">Tom Ford</option>
                        <option value="tommyhilfiger">Tommy Hilfiger</option>
                        <option value="tous">Tous</option>
                        <option value="valentino">Valentino</option>
                        <option value="versace">Versace</option>
                        <option value="victoriasecret">Victoria Secret</option>
                        <option value="victorinox">Victorinox</option>
                        <option value="viktor&rolf">Viktor & Rolf</option>
                        <option value="yanbal">Yanbal</option>
                        <option value="yvessaintlaurent">Yves Saint Laurent</option>
                        <option value="zlatan">Zlatan</option>
                    </select>
                    <select id="perfumeSelect" class="hidden">
                        <option value="">Selecciona un perfume</option>
                    </select>
                </div>
            </div>

            <div class="section-card">
                <h2>3. Elige el Tamaño y Precio</h2>
                <p>Selecciona la presentación que prefieras para tu fragancia.</p>
                <div class="size-options" id="tamañoMenu">
                    <button class="choice-button" data-tamaño="30ml" data-precio="20000">30 ml ($20.000)</button>
                    <button class="choice-button" data-tamaño="60ml" data-precio="40000">60 ml ($40.000)</button>
                    <button class="choice-button" data-tamaño="80ml" data-precio="60000">80 ml ($60.000)</button>
                    <button class="choice-button" data-tamaño="100ml" data-precio="85000">100 ml ($85.000)</button>
                </div>
            </div>

<div class="section-card">
    <h2>5. Selecciona tu Método de Pago</h2>
    <p>Elige cómo deseas realizar el pago.</p>
    <div class="payment-options" id="paymentMethodMenu"> 
        <button class="choice-button payment-nequi" data-metodo="nequi">
            <img src="imagen\nequi.jpg" alt="Nequi Logo"> Nequi
        </button>
        <button class="choice-button payment-cash" data-metodo="efectivo">
            <i class="bi bi-cash-coin"></i> Efectivo (Contra entrega)
        </button>
    </div>
    <p class="nequi-info hidden" id="nequiInfo">
        Por favor, envía el valor total de tu pedido al número de Nequi: <strong>313 809 4678</strong>.
        Incluye tu nombre y el perfume en la descripción del pago.
    </p>
</div>
            
            <div class="section-card summary-card">
                <h2 class="summary-title">Resumen de Tu Pedido</h2>
                <div class="message-area" id="messageArea">
                    Por favor, completa todos los campos para ver el resumen de tu pedido.
                </div>
                <button class="whatsapp-button" id="sendWhatsappButton">
                    <img src="https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg" alt="WhatsApp Icon" class="whatsapp-icon">
                    Enviar Pedido por WhatsApp
                </button>
                <p class="final-note">¡Gracias por elegir **Mis Fragancias Jhon Dainer Arias**!</p>
            </div>
        </section>
    </div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    // --- 1. Obtener Referencias a Elementos del DOM ---
    const messageArea = document.getElementById('messageArea');
    const nombreInput = document.getElementById('nombreInput');
    const celularInput = document.getElementById('celularInput');
    const perfumeSearchInput = document.getElementById('perfumeSearchInput');
    const perfumeSearchResults = document.getElementById('perfumeSearchResults');
    const casaSelect = document.getElementById('casaSelect');
    const perfumeSelect = document.getElementById('perfumeSelect');
    const tamañoButtons = document.querySelectorAll('#tamañoMenu .choice-button');
    const paymentMethodButtons = document.querySelectorAll('#paymentMethodMenu .choice-button');
    const nequiInfo = document.getElementById('nequiInfo');
    const sendWhatsappButton = document.getElementById('sendWhatsappButton');
    // Nueva referencia para los botones de género
    const genderButtons = document.querySelectorAll('#genderSelectionMenu .choice-button');

    // --- 2. Variables de Estado del Pedido ---
    let selectedPerfume = '';
    let selectedTamaño = '';
    let selectedPrecio = 0;
    let selectedMetodoPago = '';
    // Nueva variable para almacenar el género seleccionado
    let selectedGender = '';

    // --- 3. Datos de Perfumes (Mantener esta estructura, ajusta si es necesario) ---
    const perfumesData = {
        "afnan": ["9am pour femme", "9pm pour femme", "Supremacy Not Only Intense"],
        "agataruizdelaprada": ["Gotas de color"],
        "ahli": ["Ahli Karpos", "Ahli Vega", "Ahli Corvus"],
        "alharamain": ["Amber Oud Gold Edition", "L'Aventure", "Detour Noir"],
        "animale": ["Animale", "Animale for Men"],
        "antoniobanderas": ["Blue Seduction Dama", "King of Seduction Absolute"],
        "arianagrande": ["Cloud", "Thank U Next", "Ari", "Cloud Pink", "Sweet Like Candy", "Mod Vanilla", "Thank U Next 2.0", "Rem"],
        "armaf": ["Club de Nuit Dama", "Island Bliss", "Yum Yum", "Odyssey Candee", "Club de Nuit Intense Man"],
        "arrurru": ["Arrurru"],
        "azzaro": ["Wanted", "Azzaro Pour Homme"],
        "bath&bodyworks": ["Velvet Sugar", "Pink Chiffon", "Loquito Por Ti"],
        "benetton": ["Tribu", "Colors de Benetton"],
        "bharara": ["Bharara Niche Femme", "Bharara Rose", "Viking", "King"],
        "bilieeilish": ["Eilish"],
        "bondn°9": ["Bond N°9 Signature", "Scent of Peace for Him"],
        "britneyspears": ["Fantasy", "Fantasy Night", "Midnight Fantasy"],
        "burberry": ["Burberry Her", "Mr. Burberry"],
        "bvlgari": ["Omnia Amethyste", "Omnia Cristal", "Omnia Paraiba", "Omnia Coral", "Bvlgari Man In Black"],
        "cacharel": ["Amor Amor", "Anaïs Anaïs"],
        "calvinklein": ["CK In2U", "Eternity", "Euphoria", "Escape", "CK One"],
        "carolinaherrera": ["Carolina Herrera", "CH", "212 Sexy", "212 VIP", "212 VIP Rose", "212 VIP Rose Red", "212 VIP Wild Party", "Central Park", "Good Girl", "Prive", "Sublime", "212 Heroes for Her", "212 NYC Mujer", "Very Good Girl Glam", "Good Girl Legere", "Good Girl Blush", "Good Girl Supreme", "CH Queens", "Bad Boy", "212 Men"],
        "cartier": ["Must de Cartier", "Pasha de Cartier"],
        "chanel": ["Chance", "Coco Mademoiselle", "Chanel No 5", "Bleu de Chanel"],
        "christiandior": ["Jadore", "Miss Dior Blooming Bouquet", "Poison Girl", "Miss Dior Parfum", "Dior Sauvage", "Fahrenheit"],
        "clinique": ["Clinique Happy Dama", "Clinique Happy Men"],
        "creed": ["Carmina", "Aventus"],
        "cristianoronaldo": ["CR7"],
        "diesel": ["Only The Brave"],
        "dolcegabbana": ["Imperatrice", "Light Blue", "The One", "Pineapple", "Q Dolce Gabbana", "Devotion", "Light Blue Pour Homme"],
        "dumontparis": ["Terra", "Nitro Black"],
        "elizabetharden": ["5th Avenue", "Green Tea"],
        "elizabethtaylor": ["Diamante Blanco", "White Diamonds"],
        "enriqueiglesias": ["Adrenaline"],
        "escada": ["Moon Sparkle", "Agua del Sol", "Sorbetto Rosso", "Rock in Rio", "Taj Sunset"],
        "esika": ["Red", "Pulso"],
        "faconable": ["Faconable Royal"],
        "ferrari": ["Ferrari Black", "Scuderia Ferrari"],
        "fredhayman": ["273 Beverly Hills", "Touch"],
        "giardiniditoscana": ["Bianco Latte"],
        "gillescantuel": ["Flower by Gilles Cantuel"],
        "giorgioarmani": ["Acqua di Gioia", "Si", "Acqua di Gio", "Armani Code"],
        "givenchy": ["Angel y Daimon", "Organza", "Gentleman"],
        "gucci": ["Gucci Bloom", "Gucci Guilty"],
        "guess": ["Guess", "Guess Seductive"],
        "hugoboss": ["Hugo Woman", "Hugo XX", "Boss Bottled"],
        "ilmin": ["Il Roso","Il Orgasme", "Ilmin Tabac"],
        "isseymiyake": ["Issey Miyake", "L'eau d'Issey Pour Homme"],
        "jeanpaulgaultier": ["Jean Paul Gaultier", "Scandal", "Le Male"],
        "jeanpascal": ["Black Caviar"],
        "jesusdelpozo": ["Halloween", "Halloween Man"],
        "juicycouture": ["Viva La Juicy"],
        "justinbieber": ["Next Girlfriend"],
        "katyperry": ["Meaw", "Purr"],
        "kenzo": ["Flower", "Kenzo Homme"],
        "killian": ["Love Don't Be Shy", "Black Phantom"],
        "kimkardashian": ["BFF", "True Reflection"],
        "lacoste": ["Lacoste Magnetic","Red Lacoste ", "Lacoste Natural", "Lacoste Sparkling", "Touch of Pink", "Eau de Lacoste L.12.12"],
        "lancome": ["La Vida es Bella", "Trésor"],
        "lattafa": ["Yara", "Bade'e Al Oud Sublime", "Yara Moi", "Mayar", "Yara Tous", "Haya", "Yara Candy", "Noble Blush", "Her Confession", "Qaed Al Fursan", "Asad"],
        "lelabo": ["Santal 33"],
        "lizclaiborne": ["Curve"],
        "loewe": ["Loewe Solo"],
        "lolitalempicka": ["Lolita Lempicka"],
        "lorenzopazzaglia": ["Summer Hammer"],
        "louisvuitton": ["Ombre Nomade"],
        "maisonfrancisk": ["Baccarat Rouge 540"],
        "maluma": ["Maluma", "Maluma Jade"],
        "mancera": ["Instant Crush", "Red Tobacco"],
        "mercedesbenz": ["Mercedes-Benz Man"],
        "montblanc": ["Explorer", "Legend"],
        "montale": ["Roses Musk", "Crazy In Love", "Intense Cafe"],
        "moschino": ["Toy 2", "Toy 2 Bubble Gum", "Funny Moschino", "Gold Fresh Couture", "I Love I Love", "Toy 2 Pearl"],
        "natura": ["Humor", "Essencial"],
        "nautica": ["Nautica Voyage"],
        "onedirection": ["Our Moment"],
        "orientica": ["Amber Rouge"],
        "oscardelarenta": ["Oscar"],
        "pacorabanne": ["Black XS", "Lady Million Royal", "Lady Million", "Olympea", "Olympea Aqua", "Fame", "1 Million", "Invictus"],
        "parfumsdemarly": ["Delina", "Layton", "Pegasus"],
        "parishilton": ["Can Can", "Can Can Burlesque", "Gold Rush", "Heires", "Paris Hilton", "Dazzle", "Passport In Paris", "Rose Rush"],
        "perryellis": ["360 Coral", "360 Mujer", "360 Red"],
        "pinosilvestre": ["Pino Silvestre Original"],
        "prada": ["Candy Night", "Luna Rossa Carbon"],
        "ralphlauren": ["Ralph Lauren", "Polo Blue"],
        "rasasi": ["Hawas", "Daarej"],
        "reyane": ["Insurrection II Wild"],
        "selenagomez": ["Selena Gomez"],
        "shakira": ["Rock", "S"],
        "sofiavergara": ["Love", "Sofía Vergara"],
        "tedlapidus": ["Ted Lapidus Pour Homme"],
        "thierrimugler": ["Angel", "A*Men"],
        "tomford": ["Tobacco Vanille", "Oud Wood"],
        "tommyhilfiger": ["Tommy Girl", "Tommy"],
        "tous": ["More More Pink", "Tous Man"],
        "valentino": ["Born in Roma Yellow", "Born in Roma Uomo"],
        "versace": ["Eros Dama", "Bright Crystal", "Yellow Diamond", "Bright Crystal Parfum", "Eros Flame"],
        "victoriasecret": ["Coconut Passion", "Eau So Sexy", "Mango", "Vainilla Lace", "Sandia", "Strawberry Champagne", "Bombshell", "Pure Seduction", "Velvet Petals", "Scandalous", "Pera", "Aqua Kiss"],
        "victorinox": ["Swiss Army For Her", "Swiss Army Classic"],
        "viktor&rolf": ["Flowerbomb", "Spicebomb"],
        "yanbal": ["Gaia", "Osadia dama", "Ccori Rosé","Ccori","Ohm blak caballero","Celos", "Cielo", "Temptation Dama","Temptation caballero", "Legend"],
        "yvessaintlaurent": ["Libre", "La Nuit de L'Homme"],
        "zlatan": ["Zlatan Ibrahimović Parfums"]
    };

    // --- 4. Función para Actualizar el Resumen del Pedido ---
    // Renombrada para mayor claridad y para evitar duplicidad de nombres
    function updateOrderSummary() {
        const nombre = nombreInput.value.trim();
        const celular = celularInput.value.trim();
        const metodoPagoText = selectedMetodoPago === 'nequi' ? 'Nequi' : (selectedMetodoPago === 'efectivo' ? 'Efectivo (Contra entrega)' : 'No seleccionado');

        let message = '';
        let allRequiredFieldsSelected = false;

        // Determinar el perfume final para el resumen
        let finalPerfumeDisplay = '';
        if (selectedPerfume) {
            finalPerfumeDisplay = selectedPerfume; // Perfume seleccionado por búsqueda
        } else if (casaSelect.value && perfumeSelect.value) {
            finalPerfumeDisplay = `${casaSelect.options[casaSelect.selectedIndex].text} - ${perfumeSelect.options[perfumeSelect.selectedIndex].text}`;
        }

        // Condición para habilitar el botón de WhatsApp y mostrar el resumen completo
        if (nombre && celular && finalPerfumeDisplay && selectedTamaño && selectedMetodoPago && selectedGender) {
            message = `¡Excelente, ${nombre}! Tu pedido de **${finalPerfumeDisplay}** en **${selectedTamaño}** (precio: $${selectedPrecio.toLocaleString('es-CO')}) para **${selectedGender}** con pago **${metodoPagoText}** está listo.\n\nPresiona "Enviar Pedido por WhatsApp" para confirmar.`;
            allRequiredFieldsSelected = true;
        } else {
            message = 'Por favor, completa todos los campos para ver el resumen de tu pedido.';
        }

        messageArea.innerText = message; // Usar innerText para seguridad y formato de nueva línea

        // Habilitar/deshabilitar el botón de WhatsApp
        sendWhatsappButton.disabled = !allRequiredFieldsSelected;
        sendWhatsappButton.style.opacity = allRequiredFieldsSelected ? '1' : '0.6';
        sendWhatsappButton.style.cursor = allRequiredFieldsSelected ? 'pointer' : 'not-allowed';
    }

    // --- 5. Eventos de Inputs y Selecciones ---

    // Nombre y Celular
    nombreInput.addEventListener('input', updateOrderSummary);
    celularInput.addEventListener('input', updateOrderSummary);

    // Búsqueda de Perfumes
    perfumeSearchInput.addEventListener('input', function() {
        const searchTerm = this.value.toLowerCase();
        perfumeSearchResults.innerHTML = '';
        selectedPerfume = ''; // Resetear el perfume seleccionado por búsqueda
        
        // Desactivar el select de casa/perfume si se está usando la búsqueda
        casaSelect.value = "";
        perfumeSelect.innerHTML = '<option value="">Selecciona un perfume</option>';
        perfumeSelect.classList.add('hidden');

        updateOrderSummary();

        if (searchTerm.length > 1) {
            const matchingPerfumes = [];
            for (const brand in perfumesData) {
                perfumesData[brand].forEach(perfume => {
                    if (perfume.toLowerCase().includes(searchTerm)) {
                        matchingPerfumes.push({ brand: brand, name: perfume });
                    }
                });
            }

            if (matchingPerfumes.length > 0) {
                perfumeSearchResults.classList.remove('hidden');
                matchingPerfumes.forEach(p => {
                    const div = document.createElement('div');
                    div.textContent = `${p.name} (${p.brand.replace(/\b\w/g, char => char.toUpperCase())})`;
                    div.dataset.perfume = p.name;
                    div.addEventListener('click', function() {
                        selectedPerfume = this.dataset.perfume;
                        perfumeSearchInput.value = this.textContent;
                        perfumeSearchResults.classList.add('hidden');
                        updateOrderSummary();
                    });
                    perfumeSearchResults.appendChild(div);
                });
            } else {
                perfumeSearchResults.classList.add('hidden');
            }
        } else {
            perfumeSearchResults.classList.add('hidden');
        }
    });

    // Ocultar resultados de búsqueda si se hace clic fuera
    document.addEventListener('click', function(event) {
        if (!perfumeSearchInput.contains(event.target) && !perfumeSearchResults.contains(event.target)) {
            perfumeSearchResults.classList.add('hidden');
        }
    });

    // Selección de Casa y Perfume (Dropdowns)
    casaSelect.addEventListener('change', function() {
        const selectedBrand = this.value;
        perfumeSelect.innerHTML = '<option value="">Selecciona un perfume</option>';
        selectedPerfume = ''; // Resetear el perfume seleccionado por búsqueda
        perfumeSearchInput.value = ''; // Limpiar el input de búsqueda

        if (selectedBrand && perfumesData[selectedBrand]) {
            perfumesData[selectedBrand].forEach(perfume => {
                const option = document.createElement('option');
                option.value = perfume;
                option.textContent = perfume;
                perfumeSelect.appendChild(option);
            });
            perfumeSelect.classList.remove('hidden');
        } else {
            perfumeSelect.classList.add('hidden');
        }
        updateOrderSummary();
    });

    perfumeSelect.addEventListener('change', function() {
        selectedPerfume = this.value;
        updateOrderSummary();
    });

    // Selección de Tamaño
    tamañoButtons.forEach(button => {
        button.addEventListener('click', function() {
            tamañoButtons.forEach(btn => btn.classList.remove('selected'));
            this.classList.add('selected');
            selectedTamaño = this.dataset.tamaño;
            selectedPrecio = parseFloat(this.dataset.precio); // Asegúrate de que los precios sean números
            updateOrderSummary();
        });
    });

    // Selección de GÉNERO (¡Aquí es donde estaba la duplicación!)
    genderButtons.forEach(button => {
        button.addEventListener('click', function() {
            genderButtons.forEach(btn => btn.classList.remove('selected'));
            this.classList.add('selected');
            selectedGender = this.dataset.genero; // Usa data-genero
            updateOrderSummary();
        });
    });

    // Selección de Método de Pago
    paymentMethodButtons.forEach(button => {
        button.addEventListener('click', function() {
            paymentMethodButtons.forEach(btn => btn.classList.remove('selected'));
            this.classList.add('selected');
            selectedMetodoPago = this.dataset.metodo;

            if (selectedMetodoPago === 'nequi') {
                nequiInfo.classList.remove('hidden');
                nequiInfo.classList.add('active');
            } else {
                nequiInfo.classList.add('hidden');
                nequiInfo.classList.remove('active');
            }
            updateOrderSummary();
        });
    });

    // --- 6. Lógica para el Botón de WhatsApp ---
    sendWhatsappButton.addEventListener('click', function() {
        const nombre = nombreInput.value.trim();
        const celular = celularInput.value.trim();
        
        let finalPerfume = '';
        if (selectedPerfume) {
            finalPerfume = selectedPerfume;
        } else if (casaSelect.value && perfumeSelect.value) {
            finalPerfume = `${casaSelect.options[casaSelect.selectedIndex].text} - ${perfumeSelect.options[perfumeSelect.selectedIndex].text}`;
        }

        if (!nombre || !celular || !finalPerfume || !selectedTamaño || !selectedMetodoPago || !selectedGender) {
            alert("Por favor, completa todos los campos del pedido (nombre, celular, perfume, tamaño, género y método de pago) antes de enviar.");
            return;
        }

        const metodoPagoText = selectedMetodoPago === 'nequi' ? 'Nequi' : 'Efectivo (Contra entrega)';
        
        // Reemplaza '573138094678' con tu número de WhatsApp real
        const whatsappNumber = '573138094678'; 
        const whatsappMessage = `Hola, mi nombre es ${nombre}. Estoy interesado(a) en el perfume "${finalPerfume}" de ${selectedTamaño} para ${selectedGender} por $${selectedPrecio.toLocaleString('es-CO')}. Mi método de pago es ${metodoPagoText}. Mi número es ${celular}. Por favor, confírmame el pedido.`;

        const encodedMessage = encodeURIComponent(whatsappMessage);
        const whatsappUrl = `https://wa.me/${whatsappNumber}?text=${encodedMessage}`;

        window.open(whatsappUrl, '_blank');

        alert("¡Pedido enviado! Hemos abierto WhatsApp para que puedas confirmar tu compra.");
        
        // Resetear el formulario y el estado
        nombreInput.value = '';
        celularInput.value = '';
        perfumeSearchInput.value = '';
        perfumeSearchResults.classList.add('hidden');
        casaSelect.value = '';
        perfumeSelect.innerHTML = '<option value="">Selecciona un perfume</option>';
        perfumeSelect.classList.add('hidden');
        tamañoButtons.forEach(btn => btn.classList.remove('selected'));
        paymentMethodButtons.forEach(btn => btn.classList.remove('selected'));
        genderButtons.forEach(btn => btn.classList.remove('selected')); // Resetear los botones de género
        nequiInfo.classList.add('hidden');
        nequiInfo.classList.remove('active');
        
        selectedPerfume = '';
        selectedTamaño = '';
        selectedPrecio = 0;
        selectedMetodoPago = '';
        selectedGender = ''; // Resetear la variable de género
        updateOrderSummary(); // Vuelve al mensaje inicial
    });

    // --- 7. Inicializar el Resumen al Cargar la Página ---
    updateOrderSummary();
});  
</script>
</body>
</html>
